/* App layout */
:root{--bg:#fff;--text:#202124;--muted:#5f6368;--surface:#fff;--elev:#f1f3f4;--primary:#4285f4;--danger:#ea4335;--border:#e0e0e0}
:root.dark{--bg:#202124;--text:#e8eaed;--muted:#9aa0a6;--surface:#2a2b2f;--elev:#303134;--primary:#8ab4f8;--danger:#f28b82;--border:#3c4043}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
a{text-decoration:none;color:inherit}
.appbar{position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;padding:10px 16px;background:var(--surface);border-bottom:1px solid var(--border)}
.status{display:flex;gap:12px;color:var(--muted);font-size:13px}
.tray{position:relative;display:flex;gap:8px}
.tray button{border:none;background:transparent;padding:8px;border-radius:8px;cursor:pointer}
.dropdown{position:absolute;right:0;top:42px;width:240px;background:var(--surface);border:1px solid var(--border);border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.2)}
.hidden{display:none}
.dropdown .head{display:flex;gap:10px;align-items:center;padding:10px}
.dropdown .ava{background:var(--elev);padding:6px;border-radius:50%}
.dropdown .row{display:flex;justify-content:space-between;align-items:center;width:100%;padding:10px 12px;border:none;background:transparent;color:var(--text);cursor:pointer}
.dropdown .row:hover{background:var(--elev)}
.dropdown .danger{color:var(--danger)}
.divider{height:1px;background:var(--border);margin:6px 0}
.viewport{position:relative;height:calc(100vh - 150px);padding:12px;overflow:auto}
.log{list-style:none;margin:0;padding:0}
.msg{max-width:70%;margin:8px 0;padding:10px 14px;border-radius:18px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
.msg.me{margin-left:auto;background:var(--primary);color:#fff}
.msg.you{margin-right:auto;background:var(--elev)}
.time{font-size:10px;color:var(--muted);margin-top:4px;text-align:right}
.empty{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;text-align:center}
.btn{border:none;border-radius:22px;padding:10px 16px;cursor:pointer}
.btn.primary{background:var(--primary);color:#fff}
.muted{color:var(--muted)}
.composer{position:fixed;left:0;right:0;bottom:0;display:flex;gap:8px;align-items:center;padding:10px 12px;background:var(--surface);border-top:1px solid var(--border)}
.composer .icon{border:none;background:transparent;font-size:20px}
textarea{flex:1;resize:none;min-height:44px;max-height:160px;border:none;background:var(--elev);border-radius:20px;color:var(--text);padding:10px 12px}
.send{border:none;background:var(--primary);color:#fff;width:44px;height:44px;border-radius:50%;font-weight:700;cursor:pointer}
.fab{position:fixed;right:16px;bottom:86px;display:flex;flex-direction:column;gap:10px}
.fab-btn{width:52px;height:52px;border:none;border-radius:50%;background:var(--primary);color:#fff;font-size:18px;box-shadow:0 6px 16px rgba(0,0,0,.2);cursor:pointer}
.fab-btn.danger{background:var(--danger)}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:20px;background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:10px;padding:10px 14px;box-shadow:0 6px 16px rgba(0,0,0,.15);display:none}
.toast.show{display:block;animation:fade .2s ease}
.modal::backdrop{background:rgba(0,0,0,.35)}
.modal .card{background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:12px;padding:16px;min-width:320px}
.captcha{min-height:78px;display:flex;align-items:center;justify-content:center}
.actions{display:flex;justify-content:flex-end;gap:8px;margin-top:10px}
@keyframes fade{from{opacity:.5;transform:translate(-50%,6px)}to{opacity:1;transform:translate(-50%,0)}}
@media (max-width:760px){.viewport{height:calc(100vh - 140px)}.msg{max-width:86%}}
