<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>랜덤채팅</title>
  <link rel="stylesheet" href="/style.css" />
  <script src="/env.js"></script>
  <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
</head>
<body class="theme-dark">
  <div class="page">
    <header class="appbar">
      <div class="brand">랜덤채팅</div>
      <div class="spacer"></div>
      <div class="online"><span id="online">0</span>명 온라인</div>
      <button id="themeToggle" class="ghost">테마</button>
    </header>

    <!-- Top Ad Banner -->
    <aside class="ad ad-top" id="adTop">
      <!-- 광고 코드 삽입 영역 (예: 배너) -->
      <div class="ad-box">광고 영역 (상단 배너)</div>
    </aside>

    <main class="card">
      <section id="gate" class="gate">
        <h1>시작하기</h1>
        <p class="muted">아래 인증을 완료한 뒤, 버튼을 눌러 매칭을 시작하세요.</p>
        <div id="captcha" class="captcha h-captcha" data-sitekey=""></div>
        <button id="startBtn" class="primary" disabled>채팅 시작하기</button>
      </section>

      <section id="chatbox" class="chatbox" hidden>
        <div class="statusbar">
          <div id="status" class="status">상대를 찾는 중...</div>
          <div id="timer" class="timer" aria-live="polite">0:00</div>
          <div class="controls">
            <label class="switch"><input id="soundToggle" type="checkbox" checked><span>소리</span></label>
            <label class="switch"><input id="fontToggle" type="checkbox"><span>큰글씨</span></label>
          </div>
        </div>

        <!-- Mid Ad Card -->
        <div id="adMid" class="ad ad-mid" hidden>
          <div class="ad-box">스폰서 카드 (대화 중간 광고)</div>
        </div>

        <div id="chat" class="chat" role="log" aria-live="polite">
          <ul id="messages"></ul>
        </div>

        <div id="typing" class="typing" hidden>상대가 입력 중...</div>

        <div class="composer">
          <input id="input" type="text" placeholder="메시지를 입력하세요" maxlength="100" autocomplete="off" />
          <button id="send" class="primary">보내기</button>
          <button id="next" class="ghost">다음</button>
        </div>

        <!-- Bottom Ad Banner -->
        <aside class="ad ad-bottom" id="adBottom">
          <div class="ad-box">광고 영역 (하단 배너)</div>
        </aside>

        <details class="notice">
          <summary>안내</summary>
          <ul>
            <li>개인정보(전화번호, 이메일, SNS ID 등) 공유는 금지되어 있습니다.</li>
            <li>불법, 혐오, 폭력적인 대화는 허용되지 않습니다.</li>
            <li>대화 내용은 서버에 저장되지 않습니다.</li>
          </ul>
        </details>
      </section>
    </main>

    <footer class="footer">
      <small class="muted">© 랜덤채팅 · Render 배포용</small>
    </footer>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/script.js"></script>
</body>
</html>