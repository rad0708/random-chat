
<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>랜덤채팅 - 익명 1:1</title>
    <meta name="description" content="DB 없이 가벼운 한국어 랜덤 1:1 채팅" />
    <link rel="stylesheet" href="/style.css" />
    <link rel="preconnect" href="https://cdn.socket.io" />
  </head>
  <body>
    <header class="topbar">
      <h1>랜덤채팅</h1>
      <nav class="nav">
        <button id="btnFind" class="primary">매칭 시작</button>
        <button id="btnNext" class="ghost" disabled>다음</button>
        <button id="btnEnd" class="ghost" disabled>종료</button>
      </nav>
    </header>

    <main class="layout">
      <section class="chat">
        <ul id="log" class="log" aria-live="polite" aria-relevant="additions"></ul>
        <div id="typing" class="typing hidden">상대가 입력 중…</div>
        <form id="form" class="composer">
          <textarea id="input" maxlength="5000" placeholder="메시지를 입력하세요 (최대 5000자)"></textarea>
          <div class="row">
            <button id="btnSend" type="submit" class="primary" disabled>전송</button>
            <span id="count" class="muted">0 / 5000</span>
          </div>
        </form>
      </section>

      <aside class="side">
        <div class="card">
          <h2>설정</h2>
          <label class="field">
            <span>닉네임</span>
            <input id="nick" type="text" maxlength="20" placeholder="예: 파도" />
          </label>
          <div class="row">
            <button id="btnSaveNick">저장</button>
          </div>
        </div>

        <div class="card">
          <h2>안내</h2>
          <ul class="info">
            <li>이 서비스는 <strong>DB 없이</strong> 동작합니다. 브라우저를 닫으면 대화가 사라져요.</li>
            <li>부적절한 언어·광고·도배는 제한됩니다.</li>
            <li>문제가 있는 상대는 <em>신고</em> 또는 <em>차단</em> 하세요.</li>
          </ul>
          <div class="row">
            <button id="btnReport" class="warn" disabled>신고</button>
            <button id="btnBlock" class="danger" disabled>차단</button>
          </div>
        </div>

        <div class="card small">
          <h2>약관 & 개인정보</h2>
          <p class="muted">
            이 사이트는 쿠키나 DB를 사용하지 않으며, 서버 메모리에서만 일시적으로 매칭 정보를 처리합니다.
            민감한 정보를 공유하지 마세요.
          </p>
        </div>
      </aside>
    </main>

    <footer class="footer">
      <p>© 2025 랜덤채팅</p>
    </footer>

    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="" crossorigin="anonymous"></script>
    <script src="/client.js"></script>
  </body>
</html>
